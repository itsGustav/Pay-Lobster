{"version":3,"file":"x402-server.js","sourceRoot":"","sources":["../lib/x402-server.ts"],"names":[],"mappings":"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"}